const g=(o,c)=>{const r=/[\s!！#$%&(（)）,，、.。;；？@[\]^_`{}~''""《》￥【】+=·…]/,i=/[0-9]/,l=/[A-Za-z]/,s=/[\u4E00-\u9FFF]/;let n=!1;const t=Math.min(o.length,c.length);let e=0;do{const a=o.charAt(e),d=c.charAt(e),u=[a,d].map(f=>f.match(r)?0:f.match(i)?1:f.match(l)?2:f.match(s)?3:-1);if(a!==d)if(u[0]!==u[1]){n=u[0]-u[1];break}else{n=a.localeCompare(d,"zh");break}if(e===t){n=o.localeCompare(c,"zh");break}e+=1}while(e<=t);return n},h=o=>{const c=o.split("/").pop();let r=decodeURIComponent(c.replace(/\.[^/.]+$/,""));if(r.indexOf("_")!==-1){let i=r.indexOf("_");return r.slice(i+1)}else return r},m=(o=".game-poster",c={})=>{const r=document.querySelectorAll(o);if(r.length===0)return null;const i={rootMargin:"50px",...c},l=new IntersectionObserver((s,n)=>{s.forEach(t=>{if(t.isIntersecting){const e=t.target,a=e.getAttribute("data-src");a&&(!e.src||e.src===window.location.href||e.src==="")&&(e.onerror=()=>{console.error("Failed to load image:",a),e.onerror=null},e.src=a),n.unobserve(e)}})},i);return r.forEach(s=>{const n=s.getAttribute("data-src"),t=s.src;n&&(!t||t===""||t===window.location.href)&&l.observe(s)}),l};export{h as g,m as o,g as s};
