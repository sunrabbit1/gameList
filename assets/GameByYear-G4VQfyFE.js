import{_ as A,r as k,w as D,o as R,c as d,a as n,t as h,F as N,b as F,f as L,n as j,e as _,u as B}from"./index-B6jZQcdL.js";import{S as C}from"./scrollreveal.es-B_TuBL8G.js";const M=(E,l,b)=>{const c=E[l];return c?typeof c=="function"?c():Promise.resolve(c):new Promise((g,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+l+(l.split("/").length!==b?". Note that variables only represent file names one level deep.":""))))})},T={class:"total"},z={class:"game-by-year"},S={class:"month-title"},V={class:"month-text"},Y={class:"game-list"},q={class:"game-card"},$=["data-src","alt"],U={class:"game-info"},H={__name:"GameByYear",setup(E){const l=B(),b=C(),c=k({}),g=k(0),i=k(2024),w=()=>{l.name==="2024"?i.value=2024:l.name==="2025"?i.value=2025:i.value=new Date().getFullYear()},G=(t,a)=>{const e=/[\s!！#$%&(（)）,，、.。;；？@[\]^_`{}~‘’“”《》￥【】+=·…]/,s=/[0-9]/,r=/[A-Za-z]/,o=/[\u4E00-\u9FFF]/;let u=!1;const v=Math.min(t.length,a.length);let m=0;do{const x=t.charAt(m),y=a.charAt(m),f=[x,y].map(p=>p.match(e)?0:p.match(s)?1:p.match(r)?2:p.match(o)?3:-1);if(x!==y)if(f[0]!==f[1]){u=f[0]-f[1];break}else{u=x.localeCompare(y,"zh");break}if(m===v){u=t.localeCompare(a,"zh");break}m+=1}while(m<=v);return u},I=async()=>{c.value={},g.value=0;try{let t;t=await M(Object.assign({"../gameList/index-2024.js":()=>L(()=>import("./index-2024-BO5Ah3kS.js"),[],import.meta.url),"../gameList/index-2025.js":()=>L(()=>import("./index-2025-M1e9thKs.js"),[],import.meta.url)}),`../gameList/index-${i.value}.js`,3);const a=t.list,e={};let s=0;Object.keys(a).forEach(r=>{const o=a[r].sort((u,v)=>G(u.gameName,v.gameName));e[r]=o,s+=o.length}),c.value=e,g.value=s,j(()=>{P(),b.reveal(".game-card-reveal",{duration:200,distance:"150px",origin:"top",opacity:0,scale:.3,easing:"cubic-bezier(0.5, 0, 0.5, 1)",interval:80,reset:!1,viewFactor:.2})})}catch(t){console.error("Error loading images:",t)}},O=t=>{const a=t.split("/").pop();let e=decodeURIComponent(a.replace(/\.[^/.]+$/,""));if(e.indexOf("_")!==-1){let s=e.indexOf("_");return e.slice(s+1)}else return e},P=()=>{const t=document.querySelectorAll(".game-poster"),a=new IntersectionObserver((e,s)=>{e.forEach(r=>{if(r.isIntersecting){const o=r.target;o.src=o.dataset.src,s.unobserve(o)}})});t.forEach(e=>{a.observe(e)})};return D(()=>l.name,()=>{w(),I()}),R(async()=>{w(),await I()}),(t,a)=>(_(),d("div",null,[n("h1",T,h(i.value)+"年玩过的游戏总计："+h(g.value),1),n("div",z,[(_(!0),d(N,null,F(c.value,(e,s)=>(_(),d("div",{key:s,class:"month-section"},[n("h2",S,[n("span",V,h(s),1)]),n("div",Y,[(_(!0),d(N,null,F(e,(r,o)=>(_(),d("div",{key:o,class:"game-card-reveal"},[n("div",q,[n("img",{"data-src":r.url,alt:r.gameName+" Poster",class:"game-poster",draggable:"false",oncontextmenu:"return false;"},null,8,$),n("div",U,[n("h3",null,h(O(r.gameName)),1)])])]))),128))])]))),128))])]))}},J=A(H,[["__scopeId","data-v-fafaf709"]]);export{J as default};
